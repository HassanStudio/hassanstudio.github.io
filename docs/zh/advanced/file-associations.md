# 文件关联管理

<!--@include: @/.vitepress/snippets/app-name.md--> 提供了强大的文件关联管理功能，让你可以批量设置文件类型的默认打开方式。

## 为什么需要文件关联

要在 Xcode 中使用 <!--@include: @/.vitepress/snippets/app-name.md-->，需要将 <!--@include: @/.vitepress/snippets/app-name.md--> 设置为某些文件类型的默认编辑器。这样在 Xcode 中右键点击文件选择「Open with External Editor」时，系统才会调用 <!--@include: @/.vitepress/snippets/app-name.md-->。

::: info 自动关联
<!--@include: @/.vitepress/snippets/app-name.md--> 安装后会自动与 `.swift` 等常见文件类型关联，通常无需手动配置。如果遇到无法调用的情况，可以参考本页面进行配置。
:::

## 配置文件关联

### 通过设置窗口配置

1. 启动 <!--@include: @/.vitepress/snippets/app-name.md-->
2. 使用快捷键 `Command + ,` 或通过菜单栏点击「偏好设置...」打开设置窗口
3. 切换到「文件关联」标签页
4. 在这里你可以：
   - **查看文件类型** - 查看所有支持的文件扩展名和当前关联状态
   - **设置关联** - 勾选你想要关联的文件扩展名（如 `.swift`、`.h`、`.m` 等）
   - **应用设置** - 点击「应用设置」按钮使更改生效

::: warning 重要提示
配置文件关联会修改这些文件类型的默认应用程序。<!--@include: @/.vitepress/snippets/app-name.md--> 会记住原始设置，你可以随时通过「恢复默认」来改回去。
:::

::: tip 提示
建议先选择几个常用的文件类型进行关联，比如 `.swift`。你可以随时回来添加或删除文件类型。
:::

### 通过菜单栏快速管理

<!--@include: @/.vitepress/snippets/app-name.md--> 的菜单栏提供了快速管理功能：

1. 点击菜单栏中的 <!--@include: @/.vitepress/snippets/app-name.md--> 图标（🔨）
2. 选择「文件关联」子菜单
3. 直接点击文件扩展名（如 `.swift`）即可切换关联状态
4. 点击「配置扩展名...」可打开设置窗口的文件关联页面

::: tip 提示
通过菜单栏可以快速切换常用文件类型的关联状态，无需打开设置窗口。
:::

## 自定义文件扩展名

如果需要关联其他文件类型：

### 添加自定义扩展名

1. 打开设置窗口（`Command + ,`）
2. 切换到「文件关联」标签页
3. 点击 `+` 按钮
4. 输入文件扩展名（不带点号，如输入 `log` 而不是 `.log`）
5. 勾选新添加的扩展名
6. 点击「应用设置」

### 删除自定义扩展名

1. 打开设置窗口（`Command + ,`）
2. 切换到「文件关联」标签页
3. 选中要删除的文件类型
4. 点击 `-` 按钮
5. 点击「应用设置」

## 恢复默认设置

<!--@include: @/.vitepress/snippets/app-name.md--> 会在应用文件关联时保存原始设置。你可以随时恢复：

1. 打开设置窗口
2. 切换到「文件关联」标签页
3. 点击「恢复默认」按钮
4. 所有文件关联会恢复到 <!--@include: @/.vitepress/snippets/app-name.md--> 关联之前的状态

::: tip 提示
恢复操作会将所有文件类型的默认编辑器还原为你在关联之前使用的编辑器，确保不会影响你的正常工作流程。
:::

::: info 重要说明
Hassan 只能记录**由 Hassan 设置的文件关联**的原始编辑器。

**示例场景**：
1. 某文件类型的默认编辑器原本是 **编辑器 A**
2. 通过 Hassan 设置页面将其关联到 **Hassan**（此时 Hassan 记录原始编辑器为 A）
3. 之后在 Finder 中手动将其改为 **编辑器 B**
4. 在 Hassan 中点击「恢复默认」时，会恢复为 **编辑器 A**（而不是 B）

这是因为 Hassan 在步骤 2 应用关联时已经保存了原始编辑器信息（编辑器 A），无法追踪后续在系统中的手动修改。
:::

## 故障排除

### 无法恢复原始编辑器

如果点击「恢复默认」后仍然无法恢复原始编辑器：

1. 在 Finder 中找到对应类型的文件
2. 右键点击 → 显示简介
3. 在「打开方式」中选择你想要的编辑器
4. 点击「全部更改...」
